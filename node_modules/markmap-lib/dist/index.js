"use strict";

exports.__esModule = true;
var _exportNames = {
  createMarkmap: true
};
exports.createMarkmap = createMarkmap;

var _fs = require("fs");

var _transform = require("./transform");

var _template = require("./template");

var _types = require("./types");

Object.keys(_types).forEach(function (key) {
  if (key === "default" || key === "__esModule") return;
  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;
  if (key in exports && exports[key] === _types[key]) return;
  exports[key] = _types[key];
});

async function createMarkmap(options = {}) {
  const {
    root,
    features
  } = (0, _transform.transform)(options.content || '');
  const assets = (0, _transform.getUsedAssets)(features);
  const html = (0, _template.fillTemplate)(root, assets);
  const output = options.output || 'markmap.html';
  await _fs.promises.writeFile(output, html, 'utf8');
  return output;
}